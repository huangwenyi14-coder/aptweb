{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'App',\n  data() {\n    return {\n      activeIndex: '0',\n      // 当前选中的菜单项\n      windowWidth: window.innerWidth,\n      // 菜单路由映射表：菜单编号 -> 路由路径\n      menuRoutes: {\n        '0': '/',\n        '1': '/browser',\n        '2': '/features',\n        '3': '/leaderboard',\n        '4': '/citations',\n        '5': '/community',\n        '6': '/description',\n        '7': '/cases',\n        '8': '/download'\n      },\n      // 记录当前路径，用于避免重复跳转\n      currentPath: '/'\n    };\n  },\n  mounted() {\n    window.addEventListener('resize', this.handleResize);\n    // 页面加载时，根据当前路由设置选中状态\n    this.setActiveMenuFromRoute();\n    this.currentPath = this.$route.path;\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  methods: {\n    // 处理logo点击\n    handleLogoClick() {\n      this.navigateToRoute('0'); // 使用统一的跳转方法\n    },\n    handleResize() {\n      this.windowWidth = window.innerWidth;\n    },\n    // 处理水平菜单的选择\n    handleMenuSelect(index) {\n      this.navigateToRoute(index);\n    },\n    // 处理下拉菜单的选择\n    handleMenuCommand(command) {\n      this.navigateToRoute(command);\n    },\n    // 统一的跳转方法（修复重复跳转问题）\n    navigateToRoute(menuIndex) {\n      // 1. 获取对应的路由路径\n      const routePath = this.menuRoutes[menuIndex];\n\n      // 2. 检查是否已经是当前路径，避免重复跳转\n      if (routePath === this.currentPath) {\n        console.log('已经是当前页面，跳过跳转');\n        return;\n      }\n\n      // 3. 更新选中状态\n      this.activeIndex = menuIndex;\n\n      // 4. 执行路由跳转\n      if (routePath) {\n        this.$router.push(routePath);\n        this.currentPath = routePath; // 更新当前路径记录\n        console.log('跳转到:', routePath);\n      } else {\n        console.warn('未找到菜单对应的路由:', menuIndex);\n      }\n    },\n    // 根据当前路由设置选中状态\n    setActiveMenuFromRoute() {\n      const currentPath = this.$route.path;\n      this.currentPath = currentPath; // 更新当前路径记录\n\n      // 查找当前路径对应的菜单编号\n      for (const [menuIndex, routePath] of Object.entries(this.menuRoutes)) {\n        if (currentPath === routePath || currentPath.startsWith(routePath)) {\n          this.activeIndex = menuIndex;\n          break;\n        }\n      }\n    }\n  },\n  // 监听路由变化，更新菜单选中状态\n  watch: {\n    '$route'(to) {\n      this.setActiveMenuFromRoute();\n    }\n  }\n};","map":{"version":3,"names":["name","data","activeIndex","windowWidth","window","innerWidth","menuRoutes","currentPath","mounted","addEventListener","handleResize","setActiveMenuFromRoute","$route","path","beforeDestroy","removeEventListener","methods","handleLogoClick","navigateToRoute","handleMenuSelect","index","handleMenuCommand","command","menuIndex","routePath","console","log","$router","push","warn","Object","entries","startsWith","watch","to"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <el-container>\n      <el-header\n          style=\"\n            background-color: white;\n            height: 62px;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 0 20px;\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            z-index: 1000;\n            box-shadow: inset 0 -2px 0 cornflowerblue;\n          \"\n      >\n        <!-- logo+标题 -->\n        <router-link\n            to=\"/\"\n            style=\"display: flex; align-items: center; text-decoration: none;\"\n            @click.native=\"handleLogoClick\"\n        >\n          <div style=\"display: flex; align-items: center;\">\n            <img src=\"@/assets/logo.png\" alt=\"\" style=\"width: 40px; position: relative; top: 5px\">\n            <span style=\"font-size: 18px; color: cornflowerblue; margin-left: 12px\">\n              {{ windowWidth > 768 ? 'ZAPT Dataset Browser' : 'ZAPT' }}\n            </span>\n          </div>\n        </router-link>\n\n        <!-- 大屏幕：显示完整菜单 -->\n        <el-menu\n            v-if=\"windowWidth > 1280\"\n            :default-active=\"activeIndex\"\n            mode=\"horizontal\"\n            style=\"border-bottom: none; height: 57px;margin-bottom: 4px\"\n            background-color=\"white\"\n            text-color=\"#666\"\n            active-text-color=\"cornflowerblue\"\n            @select=\"handleMenuSelect\"\n        >\n          <el-menu-item index=\"0\">首页</el-menu-item>\n          <el-menu-item index=\"1\">数据集浏览器</el-menu-item>\n          <el-menu-item index=\"2\">数据集特色</el-menu-item>\n          <el-menu-item index=\"3\">排行榜</el-menu-item>\n          <el-menu-item index=\"4\">论文引用</el-menu-item>\n          <el-menu-item index=\"5\">社区</el-menu-item>\n          <el-menu-item index=\"6\">数据集说明</el-menu-item>\n          <el-menu-item index=\"7\">实践案例</el-menu-item>\n          <el-menu-item index=\"8\">数据集下载</el-menu-item>\n        </el-menu>\n\n        <!-- 小屏幕：显示菜单按钮 -->\n        <el-dropdown v-else @command=\"handleMenuCommand\">\n          <el-button type=\"primary\" icon=\"el-icon-menu\" style=\"background-color: cornflowerblue; border-color: cornflowerblue;\">\n            菜单\n          </el-button>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"0\" :icon=\"activeIndex === '0' ? 'el-icon-check' : ''\">\n              首页\n            </el-dropdown-item>\n            <el-dropdown-item command=\"1\" :icon=\"activeIndex === '1' ? 'el-icon-check' : ''\">\n              数据集浏览器\n            </el-dropdown-item>\n            <el-dropdown-item command=\"2\" :icon=\"activeIndex === '2' ? 'el-icon-check' : ''\">\n              数据集特色\n            </el-dropdown-item>\n            <el-dropdown-item command=\"3\" :icon=\"activeIndex === '3' ? 'el-icon-check' : ''\">\n              排行榜\n            </el-dropdown-item>\n            <el-dropdown-item command=\"4\" :icon=\"activeIndex === '4' ? 'el-icon-check' : ''\">\n              论文引用\n            </el-dropdown-item>\n            <el-dropdown-item command=\"5\" :icon=\"activeIndex === '5' ? 'el-icon-check' : ''\">\n              社区\n            </el-dropdown-item>\n            <el-dropdown-item command=\"6\" :icon=\"activeIndex === '6' ? 'el-icon-check' : ''\">\n              数据集说明\n            </el-dropdown-item>\n            <el-dropdown-item command=\"7\" :icon=\"activeIndex === '7' ? 'el-icon-check' : ''\">\n              实践案例\n            </el-dropdown-item>\n            <el-dropdown-item command=\"8\" :icon=\"activeIndex === '8' ? 'el-icon-check' : ''\">\n              数据集下载\n            </el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n\n        <!-- 右侧用户区域 -->\n        <div style=\"display: flex; align-items: center;\">\n          <el-button\n              v-if=\"windowWidth > 480\"\n              type=\"text\"\n              icon=\"el-icon-bell\"\n              style=\"font-size: 18px; color: #666; margin-right: 15px\"\n          ></el-button>\n          <el-dropdown>\n            <span style=\"display: flex; align-items: center; cursor: pointer\">\n              <el-avatar size=\"small\" style=\"background-color: cornflowerblue; margin-right: 5px\">用户</el-avatar>\n              <i v-if=\"windowWidth > 480\" class=\"el-icon-arrow-down el-icon--right\"></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item>个人中心</el-dropdown-item>\n              <el-dropdown-item>账号设置</el-dropdown-item>\n              <el-dropdown-item divided>退出登录</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n      </el-header>\n\n      <el-main style=\"background-color: wheat;min-height:100vh;padding-top: 70px;\">\n        <router-view/>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  data() {\n    return {\n      activeIndex: '0',  // 当前选中的菜单项\n      windowWidth: window.innerWidth,\n      // 菜单路由映射表：菜单编号 -> 路由路径\n      menuRoutes: {\n        '0': '/',\n        '1': '/browser',\n        '2': '/features',\n        '3': '/leaderboard',\n        '4': '/citations',\n        '5': '/community',\n        '6': '/description',\n        '7': '/cases',\n        '8': '/download'\n      },\n      // 记录当前路径，用于避免重复跳转\n      currentPath: '/'\n    }\n  },\n  mounted() {\n    window.addEventListener('resize', this.handleResize)\n    // 页面加载时，根据当前路由设置选中状态\n    this.setActiveMenuFromRoute()\n    this.currentPath = this.$route.path\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize)\n  },\n  methods: {\n    // 处理logo点击\n    handleLogoClick() {\n      this.navigateToRoute('0')  // 使用统一的跳转方法\n    },\n    handleResize() {\n      this.windowWidth = window.innerWidth\n    },\n\n    // 处理水平菜单的选择\n    handleMenuSelect(index) {\n      this.navigateToRoute(index)\n    },\n\n    // 处理下拉菜单的选择\n    handleMenuCommand(command) {\n      this.navigateToRoute(command)\n    },\n\n    // 统一的跳转方法（修复重复跳转问题）\n    navigateToRoute(menuIndex) {\n      // 1. 获取对应的路由路径\n      const routePath = this.menuRoutes[menuIndex]\n\n      // 2. 检查是否已经是当前路径，避免重复跳转\n      if (routePath === this.currentPath) {\n        console.log('已经是当前页面，跳过跳转')\n        return\n      }\n\n      // 3. 更新选中状态\n      this.activeIndex = menuIndex\n\n      // 4. 执行路由跳转\n      if (routePath) {\n        this.$router.push(routePath)\n        this.currentPath = routePath  // 更新当前路径记录\n        console.log('跳转到:', routePath)\n      } else {\n        console.warn('未找到菜单对应的路由:', menuIndex)\n      }\n    },\n\n    // 根据当前路由设置选中状态\n    setActiveMenuFromRoute() {\n      const currentPath = this.$route.path\n      this.currentPath = currentPath  // 更新当前路径记录\n\n      // 查找当前路径对应的菜单编号\n      for (const [menuIndex, routePath] of Object.entries(this.menuRoutes)) {\n        if (currentPath === routePath || currentPath.startsWith(routePath)) {\n          this.activeIndex = menuIndex\n          break\n        }\n      }\n    }\n  },\n\n  // 监听路由变化，更新菜单选中状态\n  watch: {\n    '$route'(to) {\n      this.setActiveMenuFromRoute()\n    }\n  }\n}\n</script>"],"mappings":";AAyHA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MAAA;MACAC,WAAA,EAAAC,MAAA,CAAAC,UAAA;MACA;MACAC,UAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACAJ,MAAA,CAAAK,gBAAA,gBAAAC,YAAA;IACA;IACA,KAAAC,sBAAA;IACA,KAAAJ,WAAA,QAAAK,MAAA,CAAAC,IAAA;EACA;EACAC,cAAA;IACAV,MAAA,CAAAW,mBAAA,gBAAAL,YAAA;EACA;EACAM,OAAA;IACA;IACAC,gBAAA;MACA,KAAAC,eAAA;IACA;IACAR,aAAA;MACA,KAAAP,WAAA,GAAAC,MAAA,CAAAC,UAAA;IACA;IAEA;IACAc,iBAAAC,KAAA;MACA,KAAAF,eAAA,CAAAE,KAAA;IACA;IAEA;IACAC,kBAAAC,OAAA;MACA,KAAAJ,eAAA,CAAAI,OAAA;IACA;IAEA;IACAJ,gBAAAK,SAAA;MACA;MACA,MAAAC,SAAA,QAAAlB,UAAA,CAAAiB,SAAA;;MAEA;MACA,IAAAC,SAAA,UAAAjB,WAAA;QACAkB,OAAA,CAAAC,GAAA;QACA;MACA;;MAEA;MACA,KAAAxB,WAAA,GAAAqB,SAAA;;MAEA;MACA,IAAAC,SAAA;QACA,KAAAG,OAAA,CAAAC,IAAA,CAAAJ,SAAA;QACA,KAAAjB,WAAA,GAAAiB,SAAA;QACAC,OAAA,CAAAC,GAAA,SAAAF,SAAA;MACA;QACAC,OAAA,CAAAI,IAAA,gBAAAN,SAAA;MACA;IACA;IAEA;IACAZ,uBAAA;MACA,MAAAJ,WAAA,QAAAK,MAAA,CAAAC,IAAA;MACA,KAAAN,WAAA,GAAAA,WAAA;;MAEA;MACA,YAAAgB,SAAA,EAAAC,SAAA,KAAAM,MAAA,CAAAC,OAAA,MAAAzB,UAAA;QACA,IAAAC,WAAA,KAAAiB,SAAA,IAAAjB,WAAA,CAAAyB,UAAA,CAAAR,SAAA;UACA,KAAAtB,WAAA,GAAAqB,SAAA;UACA;QACA;MACA;IACA;EACA;EAEA;EACAU,KAAA;IACA,QAAArB,CAAAsB,EAAA;MACA,KAAAvB,sBAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}