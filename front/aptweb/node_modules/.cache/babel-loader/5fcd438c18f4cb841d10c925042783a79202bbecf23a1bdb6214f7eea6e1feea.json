{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: 'App',\n  data() {\n    return {\n      activeIndex: '0',\n      // 当前选中的菜单项\n      windowWidth: window.innerWidth,\n      // 菜单路由映射表：菜单编号 -> 路由路径\n      menuRoutes: {\n        '0': '/',\n        '1': '/browser',\n        '2': '/features',\n        '3': '/leaderboard',\n        '4': '/citations',\n        '5': '/community',\n        '6': '/description',\n        '7': '/cases',\n        '8': '/download'\n      },\n      // 记录当前路径，用于避免重复跳转\n      currentPath: '/'\n    };\n  },\n  mounted() {\n    window.addEventListener('resize', this.handleResize);\n    // 页面加载时，根据当前路由设置选中状态\n    this.setActiveMenuFromRoute();\n    this.currentPath = this.$route.path;\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  methods: {\n    // 处理logo点击\n    handleLogoClick() {\n      this.navigateToRoute('0'); // 使用统一的跳转方法\n    },\n    handleResize() {\n      this.windowWidth = window.innerWidth;\n    },\n    // 处理水平菜单的选择\n    handleMenuSelect(index) {\n      this.navigateToRoute(index);\n    },\n    // 处理下拉菜单的选择\n    handleMenuCommand(command) {\n      this.navigateToRoute(command);\n    },\n    // 统一的跳转方法（修复重复跳转问题）\n    navigateToRoute(menuIndex) {\n      // 1. 获取对应的路由路径\n      const routePath = this.menuRoutes[menuIndex];\n\n      // 2. 检查是否已经是当前路径，避免重复跳转\n      if (routePath === this.currentPath) {\n        console.log('已经是当前页面，跳过跳转');\n        return;\n      }\n\n      // 3. 更新选中状态\n      this.activeIndex = menuIndex;\n\n      // 4. 执行路由跳转\n      if (routePath) {\n        this.$router.push(routePath);\n        this.currentPath = routePath; // 更新当前路径记录\n        console.log('跳转到:', routePath);\n      } else {\n        console.warn('未找到菜单对应的路由:', menuIndex);\n      }\n    },\n    // 根据当前路由设置选中状态\n    setActiveMenuFromRoute() {\n      const currentPath = this.$route.path;\n      this.currentPath = currentPath; // 更新当前路径记录\n\n      // 查找当前路径对应的菜单编号\n      for (const [menuIndex, routePath] of Object.entries(this.menuRoutes)) {\n        if (currentPath === routePath) {\n          this.activeIndex = menuIndex;\n          return;\n        }\n      }\n      this.activeIndex = '0';\n    }\n  },\n  // 监听路由变化，更新菜单选中状态\n  watch: {\n    '$route'(to) {\n      this.setActiveMenuFromRoute();\n    }\n  }\n};","map":{"version":3,"names":["name","data","activeIndex","windowWidth","window","innerWidth","menuRoutes","currentPath","mounted","addEventListener","handleResize","setActiveMenuFromRoute","$route","path","beforeDestroy","removeEventListener","methods","handleLogoClick","navigateToRoute","handleMenuSelect","index","handleMenuCommand","command","menuIndex","routePath","console","log","$router","push","warn","Object","entries","watch","to"],"sources":["src/views/Manage.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <el-container>\r\n      <el-header\r\n          style=\"\r\n            background-color: white;\r\n            height: 62px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: space-between;\r\n            padding: 0 20px;\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            right: 0;\r\n            z-index: 1000;\r\n            box-shadow: inset 0 -2px 0 cornflowerblue;\r\n          \"\r\n      >\r\n        <!-- logo+标题 -->\r\n        <router-link\r\n            to=\"/\"\r\n            style=\"display: flex; align-items: center; text-decoration: none;\"\r\n            @click.native=\"handleLogoClick\"\r\n        >\r\n          <div style=\"display: flex; align-items: center;\">\r\n            <img src=\"@/assets/logo.png\" alt=\"\" style=\"width: 40px; position: relative; top: 5px\">\r\n            <span style=\"font-size: 18px; color: cornflowerblue; margin-left: 12px\">\r\n              {{ windowWidth > 768 ? 'ZAPT Dataset Browser' : 'ZAPT' }}\r\n            </span>\r\n          </div>\r\n        </router-link>\r\n\r\n        <!-- 大屏幕：显示完整菜单 -->\r\n        <el-menu\r\n            v-if=\"windowWidth > 1280\"\r\n            :default-active=\"activeIndex\"\r\n            mode=\"horizontal\"\r\n            style=\"border-bottom: none; height: 57px;margin-bottom: 4px\"\r\n            background-color=\"white\"\r\n            text-color=\"#666\"\r\n            active-text-color=\"cornflowerblue\"\r\n            @select=\"handleMenuSelect\"\r\n        >\r\n          <el-menu-item index=\"0\">首页</el-menu-item>\r\n          <el-menu-item index=\"1\">数据集浏览器</el-menu-item>\r\n          <el-menu-item index=\"2\">数据集特色</el-menu-item>\r\n          <el-menu-item index=\"3\">排行榜</el-menu-item>\r\n          <el-menu-item index=\"4\">论文引用</el-menu-item>\r\n          <el-menu-item index=\"5\">社区</el-menu-item>\r\n          <el-menu-item index=\"6\">数据集说明</el-menu-item>\r\n          <el-menu-item index=\"7\">实践案例</el-menu-item>\r\n          <el-menu-item index=\"8\">数据集下载</el-menu-item>\r\n        </el-menu>\r\n\r\n        <!-- 小屏幕：显示菜单按钮 -->\r\n        <el-dropdown v-else @command=\"handleMenuCommand\">\r\n          <el-button type=\"primary\" icon=\"el-icon-menu\" style=\"background-color: cornflowerblue; border-color: cornflowerblue;\">\r\n            菜单\r\n          </el-button>\r\n          <el-dropdown-menu slot=\"dropdown\">\r\n            <el-dropdown-item command=\"0\" :icon=\"activeIndex === '0' ? 'el-icon-check' : ''\">\r\n              首页\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"1\" :icon=\"activeIndex === '1' ? 'el-icon-check' : ''\">\r\n              数据集浏览器\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"2\" :icon=\"activeIndex === '2' ? 'el-icon-check' : ''\">\r\n              数据集特色\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"3\" :icon=\"activeIndex === '3' ? 'el-icon-check' : ''\">\r\n              排行榜\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"4\" :icon=\"activeIndex === '4' ? 'el-icon-check' : ''\">\r\n              论文引用\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"5\" :icon=\"activeIndex === '5' ? 'el-icon-check' : ''\">\r\n              社区\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"6\" :icon=\"activeIndex === '6' ? 'el-icon-check' : ''\">\r\n              数据集说明\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"7\" :icon=\"activeIndex === '7' ? 'el-icon-check' : ''\">\r\n              实践案例\r\n            </el-dropdown-item>\r\n            <el-dropdown-item command=\"8\" :icon=\"activeIndex === '8' ? 'el-icon-check' : ''\">\r\n              数据集下载\r\n            </el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n\r\n        <!-- 右侧用户区域 -->\r\n        <div style=\"display: flex; align-items: center;\">\r\n          <el-button\r\n              v-if=\"windowWidth > 480\"\r\n              type=\"text\"\r\n              icon=\"el-icon-bell\"\r\n              style=\"font-size: 18px; color: #666; margin-right: 15px\"\r\n          ></el-button>\r\n          <el-dropdown>\r\n            <span style=\"display: flex; align-items: center; cursor: pointer\">\r\n              <el-avatar size=\"small\" style=\"background-color: cornflowerblue; margin-right: 5px\">用户</el-avatar>\r\n              <i v-if=\"windowWidth > 480\" class=\"el-icon-arrow-down el-icon--right\"></i>\r\n            </span>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item>个人中心</el-dropdown-item>\r\n              <el-dropdown-item>账号设置</el-dropdown-item>\r\n              <el-dropdown-item divided>退出登录</el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </div>\r\n      </el-header>\r\n\r\n      <el-main style=\"background-color:#99CCFF;min-height:100vh;padding-top: 70px;\">\r\n        <router-view/>\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n  data() {\r\n    return {\r\n      activeIndex: '0',  // 当前选中的菜单项\r\n      windowWidth: window.innerWidth,\r\n      // 菜单路由映射表：菜单编号 -> 路由路径\r\n      menuRoutes: {\r\n        '0': '/',\r\n        '1': '/browser',\r\n        '2': '/features',\r\n        '3': '/leaderboard',\r\n        '4': '/citations',\r\n        '5': '/community',\r\n        '6': '/description',\r\n        '7': '/cases',\r\n        '8': '/download'\r\n      },\r\n      // 记录当前路径，用于避免重复跳转\r\n      currentPath: '/'\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener('resize', this.handleResize)\r\n    // 页面加载时，根据当前路由设置选中状态\r\n    this.setActiveMenuFromRoute()\r\n    this.currentPath = this.$route.path\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.handleResize)\r\n  },\r\n  methods: {\r\n    // 处理logo点击\r\n    handleLogoClick() {\r\n      this.navigateToRoute('0')  // 使用统一的跳转方法\r\n    },\r\n    handleResize() {\r\n      this.windowWidth = window.innerWidth\r\n    },\r\n\r\n    // 处理水平菜单的选择\r\n    handleMenuSelect(index) {\r\n      this.navigateToRoute(index)\r\n    },\r\n\r\n    // 处理下拉菜单的选择\r\n    handleMenuCommand(command) {\r\n      this.navigateToRoute(command)\r\n    },\r\n\r\n    // 统一的跳转方法（修复重复跳转问题）\r\n    navigateToRoute(menuIndex) {\r\n      // 1. 获取对应的路由路径\r\n      const routePath = this.menuRoutes[menuIndex]\r\n\r\n      // 2. 检查是否已经是当前路径，避免重复跳转\r\n      if (routePath === this.currentPath) {\r\n        console.log('已经是当前页面，跳过跳转')\r\n        return\r\n      }\r\n\r\n      // 3. 更新选中状态\r\n      this.activeIndex = menuIndex\r\n\r\n      // 4. 执行路由跳转\r\n      if (routePath) {\r\n        this.$router.push(routePath)\r\n        this.currentPath = routePath  // 更新当前路径记录\r\n        console.log('跳转到:', routePath)\r\n      } else {\r\n        console.warn('未找到菜单对应的路由:', menuIndex)\r\n      }\r\n    },\r\n\r\n    // 根据当前路由设置选中状态\r\n    setActiveMenuFromRoute() {\r\n      const currentPath = this.$route.path\r\n      this.currentPath = currentPath  // 更新当前路径记录\r\n\r\n      // 查找当前路径对应的菜单编号\r\n      for (const [menuIndex, routePath] of Object.entries(this.menuRoutes)) {\r\n        if (currentPath === routePath ) {\r\n          this.activeIndex = menuIndex\r\n          return\r\n        }\r\n      }\r\n      this.activeIndex = '0'\r\n    }\r\n  },\r\n\r\n  // 监听路由变化，更新菜单选中状态\r\n  watch: {\r\n    '$route'(to) {\r\n      this.setActiveMenuFromRoute()\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":";AAyHA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,WAAA;MAAA;MACAC,WAAA,EAAAC,MAAA,CAAAC,UAAA;MACA;MACAC,UAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACAJ,MAAA,CAAAK,gBAAA,gBAAAC,YAAA;IACA;IACA,KAAAC,sBAAA;IACA,KAAAJ,WAAA,QAAAK,MAAA,CAAAC,IAAA;EACA;EACAC,cAAA;IACAV,MAAA,CAAAW,mBAAA,gBAAAL,YAAA;EACA;EACAM,OAAA;IACA;IACAC,gBAAA;MACA,KAAAC,eAAA;IACA;IACAR,aAAA;MACA,KAAAP,WAAA,GAAAC,MAAA,CAAAC,UAAA;IACA;IAEA;IACAc,iBAAAC,KAAA;MACA,KAAAF,eAAA,CAAAE,KAAA;IACA;IAEA;IACAC,kBAAAC,OAAA;MACA,KAAAJ,eAAA,CAAAI,OAAA;IACA;IAEA;IACAJ,gBAAAK,SAAA;MACA;MACA,MAAAC,SAAA,QAAAlB,UAAA,CAAAiB,SAAA;;MAEA;MACA,IAAAC,SAAA,UAAAjB,WAAA;QACAkB,OAAA,CAAAC,GAAA;QACA;MACA;;MAEA;MACA,KAAAxB,WAAA,GAAAqB,SAAA;;MAEA;MACA,IAAAC,SAAA;QACA,KAAAG,OAAA,CAAAC,IAAA,CAAAJ,SAAA;QACA,KAAAjB,WAAA,GAAAiB,SAAA;QACAC,OAAA,CAAAC,GAAA,SAAAF,SAAA;MACA;QACAC,OAAA,CAAAI,IAAA,gBAAAN,SAAA;MACA;IACA;IAEA;IACAZ,uBAAA;MACA,MAAAJ,WAAA,QAAAK,MAAA,CAAAC,IAAA;MACA,KAAAN,WAAA,GAAAA,WAAA;;MAEA;MACA,YAAAgB,SAAA,EAAAC,SAAA,KAAAM,MAAA,CAAAC,OAAA,MAAAzB,UAAA;QACA,IAAAC,WAAA,KAAAiB,SAAA;UACA,KAAAtB,WAAA,GAAAqB,SAAA;UACA;QACA;MACA;MACA,KAAArB,WAAA;IACA;EACA;EAEA;EACA8B,KAAA;IACA,QAAApB,CAAAqB,EAAA;MACA,KAAAtB,sBAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}